// Top-level build file where you can add configuration options common to all sub-projects/modules.
plugins {
    id 'com.android.application' version '7.0.4' apply false
    id 'com.android.library' version '7.0.4' apply false
    id 'org.jetbrains.kotlin.android' version '1.7.20' apply false
    id 'java-library'
    id 'maven-publish'
    id 'signing'
}
group = 'com.example'
version = '1.0'

java {
    withJavadocJar()
    withSourcesJar()
}

//publishing {
//    publications {
//        java(MavenPublication) {
//            artifact jar
//
//            // other stuff - skipped for readability
//
//            pom.withXml {
//                def dependenciesNode = asNode().appendNode('dependencies')
//
//                configurations.runtime.allDependencies.each {
//                    if (it.group != null && it.name != null) {
//                        def dependencyNode = dependenciesNode.appendNode('dependency')
//                        dependencyNode.appendNode('groupId', it.group)
//                        dependencyNode.appendNode('artifactId', it.name)
//                        dependencyNode.appendNode('version', it.version)
//
//                        if (it.excludeRules.size() > 0) {
//                            def exclusionsNode = dependencyNode.appendNode('exclusions')
//                            it.excludeRules.each { rule ->
//                                def exclusionNode = exclusionsNode.appendNode('exclusion')
//                                exclusionNode.appendNode('groupId', rule.group)
//                                exclusionNode.appendNode('artifactId', rule.module)
//                            }
//                        }
//                    }
//                }
//            }
//        }
//    }
//}

//signing {
//    sign publishing.publications.mavenJava
//}